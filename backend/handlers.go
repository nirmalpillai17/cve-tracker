package backend

import (
	"encoding/json"
	"fmt"
	"net/http"

	"github.com/nirmalpillai17/cve_tracker/models"
)

func usersHandler(w http.ResponseWriter, r *http.Request) {
	var v models.JsonMain
	data := getGraphanaData()
	if err := json.Unmarshal(data, &v); err != nil {
		fmt.Println("Something is wrong", err)
	}
	for _, x := range v.Response {
		for _, y := range x.Hits.HitsInner {
			fmt.Println(y.Source.Director)
		}
	}
	fmt.Fprint(w, v)
}

func loginHandler(w http.ResponseWriter, r *http.Request) {
	fmt.Fprint(w, "This is loginhandler")
}

func homeHandler(w http.ResponseWriter, r *http.Request) {
	fmt.Fprint(w, "This is homehandler")
}

func dashHandler(w http.ResponseWriter, r *http.Request) {
	fmt.Fprint(w, "This is dashhandler")
}
